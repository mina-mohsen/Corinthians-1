<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ù…Ø³Ø§Ø¨Ù‚Ø© Ø±Ø³Ø§Ù„Ø© ÙƒÙˆØ±Ù†Ø«ÙˆØ³ Ø§Ù„Ø£ÙˆÙ„Ù‰</title>
    <style>
        :root {
            --primary: #2c3e50;
            --accent: #d35400;
            --success: #27ae60;
            --danger: #c0392b;
            --light: #f4f7f6;
            --white: #ffffff;
        }

        * { box-sizing: border-box; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }

        body { 
            background-color: #bdc3c7; 
            margin: 0; 
            padding: 10px; 
            display: flex; 
            justify-content: center; 
        }

        .container { 
            width: 100%; 
            max-width: 600px; 
            background: var(--white); 
            padding: 20px; 
            border-radius: 15px; 
            box-shadow: 0 5px 15px rgba(0,0,0,0.1); 
        }
        
        header { text-align: center; margin-bottom: 20px; border-bottom: 2px solid var(--light); padding-bottom: 10px; }
        h1 { font-size: 1.2rem; color: var(--primary); }

        .screen { display: none; flex-direction: column; gap: 15px; }
        .active-screen { display: flex; }

        label { font-size: 0.9rem; font-weight: bold; color: var(--primary); margin-bottom: -10px; }
        input { padding: 12px; border: 1px solid #ddd; border-radius: 8px; width: 100%; font-size: 1rem; }
        
        .btn-main { 
            background: var(--primary); color: white; padding: 14px; border: none; 
            border-radius: 8px; font-size: 1rem; font-weight: bold; cursor: pointer; 
        }

        .option-item { 
            background: #f8f9f9; padding: 12px; border-radius: 8px; cursor: pointer; 
            border: 1px solid #ddd; margin-bottom: 8px; text-align: right;
        }
        .option-item.selected { background: #d5dbdb; border-color: var(--primary); font-weight: bold; }

        #timer-box { color: var(--danger); font-weight: bold; text-align: center; font-size: 1.2rem; }
        
        .nav-info { display: flex; justify-content: space-between; font-size: 0.9rem; color: #7f8c8d; }
    </style>
</head>
<body>

<div class="container">
    <header>
        <h1>Ù…Ø³Ø§Ø¨Ù‚Ø© ÙƒÙˆØ±Ù†Ø«ÙˆØ³ Ø§Ù„Ø£ÙˆÙ„Ù‰ - Ø§Ù„Ø£ØµØ­Ø§Ø­ Ø§Ù„Ø£ÙˆÙ„</h1>
        <div id="timer-box" style="display:none;">20:00</div>
    </header>

    <!-- ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª -->
    <div id="reg-screen" class="active-screen screen">
        <p style="text-align:center;">Ø¨Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ù„Ù„Ø¨Ø¯Ø¡</p>
        <input type="text" id="u-name" placeholder="Ø§Ù„Ø§Ø³Ù… Ø¨Ø§Ù„ÙƒØ§Ù…Ù„">
        <input type="tel" id="u-phone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„">
        <input type="text" id="u-address" placeholder="Ø§Ù„Ø¹Ù†ÙˆØ§Ù† (Ø§Ù„Ù…Ù†Ø·Ù‚Ø© / Ø§Ù„ÙƒÙ†ÙŠØ³Ø©)">
        <label for="u-birthdate">ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯:</label>
        <input type="date" id="u-birthdate">
        <button class="btn-main" onclick="startQuiz()">Ø¨Ø¯Ø¡ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</button>
    </div>

    <!-- Ø´Ø§Ø´Ø© Ø§Ù„Ø£Ø³Ø¦Ù„Ø© -->
    <div id="quiz-screen" class="screen">
        <div class="nav-info">
            <span id="q-progress">Ø³Ø¤Ø§Ù„ 1 Ù…Ù† 60</span>
        </div>
        <div id="q-text" style="font-weight:bold; margin: 15px 0;"></div>
        <div id="options-container"></div>
        <button class="btn-main" id="next-btn" onclick="nextQuestion()">Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ</button>
    </div>

    <!-- Ø´Ø§Ø´Ø© Ø§Ù„Ù†Ù‡Ø§ÙŠØ© -->
    <div id="finish-screen" class="screen">
        <div style="text-align:center;">
            <h2 style="color: var(--success);">Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±!</h2>
            <p>Ø¯Ø±Ø¬ØªÙƒ Ù‡ÙŠ:</p>
            <div id="final-score" style="font-size: 3rem; font-weight: bold;">0 / 60</div>
            <p style="color: #666; font-size: 0.9rem; margin-bottom: 20px;">
                Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø²Ø± Ø£Ø¯Ù†Ø§Ù‡ Ù„Ø¥Ø±Ø³Ø§Ù„ Ù†ØªÙŠØ¬ØªÙƒ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨ Ø¥Ù„Ù‰ Ø§Ù„Ø¬Ø±ÙˆØ¨ Ù„Ø§Ø¹ØªÙ…Ø§Ø¯Ù‡Ø§.
            </p>
            <button class="btn-main" style="background:#25D366;" onclick="sendToWhatsApp()">
                Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø¥Ù„Ù‰ Ø¬Ø±ÙˆØ¨ WhatsApp
            </button>
        </div>
    </div>
</div>

<script>
    // ØªÙ…Ø¯ÙŠØ¯ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£Ø³Ø¦Ù„Ø© (ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù€ 60 Ø³Ø¤Ø§Ù„Ø§Ù‹ Ù‡Ù†Ø§)
    const questions = [
        { q: "Ù…Ù† Ù‡Ùˆ Ø§Ù„Ø´Ø®Øµ Ø§Ù„Ø°ÙŠ Ø´Ø§Ø±Ùƒ Ø¨ÙˆÙ„Ø³ Ø§Ù„Ø±Ø³ÙˆÙ„ ÙÙŠ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªØ­ÙŠØ© Ù„ÙƒÙˆØ±Ù†Ø«ÙˆØ³ØŸ", options: ["ØªÙŠÙ…ÙˆØ«Ø§ÙˆØ³", "Ø³ÙˆØ³Ø«Ø§Ù†ÙŠØ³", "Ù„ÙˆÙ‚Ø§", "Ø³ÙŠÙ„Ø§"], correct: 1 },
        { q: "Ø¨Ù…Ø§Ø°Ø§ Ø¯ÙØ¹ÙŠ Ø¨ÙˆÙ„Ø³ ÙÙŠ Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ø±Ø³Ø§Ù„Ø©ØŸ", options: ["Ø±Ø³ÙˆÙ„Ø§Ù‹ Ù…Ø®ØªØ§Ø±Ø§Ù‹", "Ø±Ø³ÙˆÙ„Ø§Ù‹ Ù…Ø¯Ø¹ÙˆØ§Ù‹", "Ø®Ø§Ø¯Ù…Ø§Ù‹ Ù„Ù„Ù‡", "ØªÙ„Ù…ÙŠØ°Ø§Ù‹ Ù„Ù„Ù…Ø³ÙŠØ­"], correct: 1 },
        { q: "Ø¨Ø£ÙŠ ØµÙØ© ÙˆÙØµÙ Ø§Ù„Ù…Ø¤Ù…Ù†ÙˆÙ† ÙÙŠ ÙƒÙˆØ±Ù†Ø«ÙˆØ³ØŸ", options: ["Ø§Ù„Ù…Ù‚Ø¯Ø³ÙŠÙ† ÙÙŠ Ø§Ù„Ù…Ø³ÙŠØ­ ÙŠØ³ÙˆØ¹", "Ø§Ù„Ø£Ø¨Ø±Ø§Ø± Ø¨Ø§Ù„Ù†Ø¹Ù…Ø©", "Ø­ÙØ¸Ø© Ø§Ù„Ù†Ø§Ù…ÙˆØ³", "Ø±Ø¹ÙŠØ© Ø§Ù„Ù„Ù‡"], correct: 0 },
        { q: "Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ø¨Ø±ÙƒØ© Ø§Ù„ØªÙŠ ÙŠØ·Ù„Ø¨Ù‡Ø§ Ø¨ÙˆÙ„Ø³ ÙÙŠ Ø§Ù„ØªØ­ÙŠØ©ØŸ", options: ["Ø¥ÙŠÙ…Ø§Ù† ÙˆØ±Ø¬Ø§Ø¡", "Ù†Ø¹Ù…Ø© ÙˆØ³Ù„Ø§Ù…", "Ù‚ÙˆØ© ÙˆØ«Ø¨Ø§Øª", "Ù…Ø­Ø¨Ø© ÙˆÙØ±Ø­"], correct: 1 },
        { q: "Ù„Ù…Ø§Ø°Ø§ ÙŠØ´ÙƒØ± Ø¨ÙˆÙ„Ø³ Ø¥Ù„Ù‡Ù‡ Ø¯Ø§Ø¦Ù…Ø§Ù‹ Ù…Ù† Ø¬Ù‡ØªÙ‡Ù…ØŸ", options: ["Ù„Ø£Ø¬Ù„ ØµØ¨Ø±Ù‡Ù…", "Ù„Ø£Ø¬Ù„ Ù†Ø¹Ù…Ø© Ø§Ù„Ù„Ù‡ Ø§Ù„Ù…Ø¹Ø·Ø§Ø© Ù„Ù‡Ù…", "Ù„Ø£Ø¬Ù„ ÙƒØ«Ø±Ø© Ø¹Ø¯Ø¯Ù‡Ù…", "Ù„Ø£Ø¬Ù„ ØµÙˆÙ…Ù‡Ù…"], correct: 1 }
    ];

    let current = 0, score = 0, selectedOpt = null, timer, timeLeft = 20 * 60;
    let userData = { name: "", phone: "", address: "", birthdate: "" };

    function startQuiz() {
        userData.name = document.getElementById('u-name').value.trim();
        userData.phone = document.getElementById('u-phone').value.trim();
        userData.address = document.getElementById('u-address').value.trim();
        userData.birthdate = document.getElementById('u-birthdate').value;
        
        if(!userData.name || !userData.phone || !userData.address || !userData.birthdate) {
            return alert("Ø¨Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ ÙƒØ§ÙØ© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©");
        }
        
        switchScreen('quiz-screen');
        document.getElementById('timer-box').style.display = 'block';
        showQuestion();
        startTimer();
    }

    function showQuestion() {
        const q = questions[current];
        document.getElementById('q-progress').innerText = `Ø³Ø¤Ø§Ù„ ${current + 1} Ù…Ù† ${questions.length}`;
        document.getElementById('q-text').innerText = q.q;
        const container = document.getElementById('options-container');
        container.innerHTML = "";
        selectedOpt = null;
        
        q.options.forEach((opt, idx) => {
            const div = document.createElement('div');
            div.className = "option-item";
            div.innerText = opt;
            div.onclick = () => {
                document.querySelectorAll('.option-item').forEach(el => el.classList.remove('selected'));
                div.classList.add('selected');
                selectedOpt = idx;
            };
            container.appendChild(div);
        });

        document.getElementById('next-btn').innerText = (current === questions.length - 1) ? "Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±" : "Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ";
    }

    function nextQuestion() {
        if(selectedOpt === null) return alert("Ø¨Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ø¥Ø¬Ø§Ø¨Ø©");
        if(selectedOpt === questions[current].correct) score++;
        
        if(current < questions.length - 1) {
            current++;
            showQuestion();
        } else {
            finishQuiz();
        }
    }

    function finishQuiz() {
        clearInterval(timer);
        document.getElementById('final-score').innerText = `${score} / ${questions.length}`;
        switchScreen('finish-screen');
    }

    function startTimer() {
        timer = setInterval(() => {
            timeLeft--;
            if(timeLeft <= 0) finishQuiz();
            const m = Math.floor(timeLeft/60), s = timeLeft%60;
            document.getElementById('timer-box').innerText = `${m}:${s<10?'0':''}${s}`;
        }, 1000);
    }

    function switchScreen(id) {
        document.querySelectorAll('.screen').forEach(s => s.classList.remove('active-screen'));
        document.getElementById(id).classList.add('active-screen');
    }

    function sendToWhatsApp() {
        const groupLink = "https://chat.whatsapp.com/FfkDrqbvstgEbicuzxkir8";
        
        // ØªØ¬Ù‡ÙŠØ² Ù†Øµ Ø§Ù„Ø±Ø³Ø§Ù„Ø©
        const message = `*ØªÙ‚Ø±ÙŠØ± Ù†ØªÙŠØ¬Ø© Ù…Ø³Ø§Ø¨Ù‚Ø© ÙƒÙˆØ±Ù†Ø«ÙˆØ³ Ø§Ù„Ø£ÙˆÙ„Ù‰*%0A` +
                        `--------------------------%0A` +
                        `ğŸ‘¤ *Ø§Ù„Ø§Ø³Ù…:* ${userData.name}%0A` +
                        `ğŸ“ *Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„:* ${userData.phone}%0A` +
                        `ğŸ  *Ø§Ù„Ø¹Ù†ÙˆØ§Ù†:* ${userData.address}%0A` +
                        `ğŸ“… *ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯:* ${userData.birthdate}%0A` +
                        `ğŸ† *Ø§Ù„Ø¯Ø±Ø¬Ø©:* ${score} Ù…Ù† ${questions.length}%0A` +
                        `--------------------------%0A` +
                        `Ø§Ù„Ø±Ø§Ø¨Ø· Ù„Ù„Ø¬Ø±ÙˆØ¨: ${groupLink}`;
        
        // Ù…Ù„Ø§Ø­Ø¸Ø©: Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ø¬Ø±ÙˆØ¨Ø§Øª Ù„Ø§ ØªØ¯Ø¹Ù… Ù…Ù„Ø¡ Ø§Ù„Ø±Ø³Ø§Ù„Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¹Ø¨Ø± Ø§Ù„Ø±Ø§Ø¨Ø· Ù…Ø«Ù„ "wa.me" 
        // Ù„Ø°Ø§ Ø³Ù†ÙØªØ­ Ø§Ù„Ø±Ø§Ø¨Ø· Ù„ÙŠÙ‚ÙˆÙ… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ø¹Ù…Ù„ Ù„ØµÙ‚ Ø£Ùˆ Ø§Ù„Ø§Ù†Ø¶Ù…Ø§Ù… Ø«Ù… ÙŠÙƒØªØ¨ Ø§Ù„Ù†ØªÙŠØ¬Ø©ØŒ 
        // ÙˆÙ„ÙƒÙ† Ø§Ù„Ø£ÙØ¶Ù„ ØªÙ‚Ù†ÙŠØ§Ù‹ Ù‡Ùˆ ØªÙˆØ¬ÙŠÙ‡ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù„ÙØªØ­ Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨ ÙˆÙ†Ø³Ø® Ø§Ù„Ù†ØªÙŠØ¬Ø©.
        
        // Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† Ø°Ù„ÙƒØŒ Ø³Ù†Ø³ØªØ®Ø¯Ù… Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ù…Ø¨Ø§Ø´Ø± Ù„ÙØªØ­Ù‡ ÙÙŠ ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨
        const whatsappUrl = `https://api.whatsapp.com/send?text=${message}`;
        window.open(whatsappUrl, '_blank');
    }
</script>
</body>
</html>
